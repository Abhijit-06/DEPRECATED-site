---
layout: blog
root: ../../..
author: Greg Wilson
title: "A New Template for Workshop Websites"
date: 2014-10-02
time: "17:00:00"
category: ["Tooling"]
---
<!-- start excerpt -->
<!-- end excerpt -->
The first step in reorganizing the `bc` repository is making it easier
(*much* easier) for people to create websites for workshops.  The
current instructions (https://github.com/swcarpentry/bc) are almost
3000 words long, and even experienced GitHub users find the process
daunting, so we're going to simplify things as much as we can, even if
that means not doing things the "right" way.

Here's what you'll do to create a website for a workshop when we're
done:

1. Download the latest version of a shell script called
   `create_workshop.sh` from the Software Carpentry website.

2. Run `create_workshop.sh github_user_name workshop_id`, where
   `github_user_name` could be `swcarpentry`, your name, or whatever,
   and `workshop_id` is something like `2015-01-02-esu`.

3. Go into the newly-created directory named `workshop_id`.  This will
   be a GitHub repository on your machine with a single branch called
   `gh-pages` containing:

   * `README.md` : a brief description of Software Carpentry with a
     prominent link to the workshop's GitHub page.

   * `Makefile`: useful commands for checking and building the
     website.  `make` on its own (without a target) will display help.

   * `index.html`: the workshop's home page.

   * `bin/check.py`: a program to check the workshop's layout and the
     contents of its home page.

   * `_layouts/workshop.html`: a page template for the site.

   This repository will have a remote called `origin` pointing at a
   newly-created repository `github.com/github_user_name/workshop_id`.
   (We could get rid of `_layouts/workshop.html`, and put everything
   in `index.html`, but we want to make it easy for instructors to add
   more pages to their website.)

4. Edit the YAML header in `index.html` to specify the workshop's
   dates, instructors, EventBrite registration key, topics, etc.

5. `git push origin gh-pages`, and you're done.

That's all we need to set up a single-page site for a workshop,
because:

1. We can load CSS, Javascript, and images from the Software Carpentry
   website.

2. We can embed setup instructions in `index.html`, so there's no need
   for `_include` files.

3. `index.html` can link to rendered online versions of the lessons
   and the Code of Conduct, so we don't need to include that in the
   workshop site every time (but see "Customizing Lessons" below).

Managing the Site
-----------------

`Makefile` will contain these targets:

* `make`: without a target, this will print help.

* `make commands`: prints the same help.

* `make check`: run `bin/check.py` to make sure everything is
  formatted properly.

* `make site`: build the workshop website locally for checking.  This
  will require Jekyll.

* `make listed`: check that the workshop is listed on the Software
  Carpentry site.

* `make standalone`: get local copies of the CSS, Javascript, images,
  etc.  (See "Localizing" below.)

* `make page page_name.html`: create a new blank HTML page with the
  right header, layout, etc.  (See "Adding Content" below.)

* `make clean`: tidy up (i.e., delete the locally-built website).

Localizing
----------

The repository will also have a read-only Git remote called `source`
pointing at `github.com/swcarpentry/workshop_source`.  If people want
local copies of the CSS, Javascript, and images needed to render their
site (e.g., for offline work), then can pull from `source`.
(`Makefile` will contain a target for this.)

Adding Content
--------------

Instructors can add their own data files, code samples, and so on to
the workshop's web site simply by adding those files to the Git repo
and pushing to `origin`.  They can also run `make page page_name.html`
to create a new page called `page_name.html`, then add it and push.
`bin/check.py` and `make check` will check the format of these pages
as well as the format of `index.html`.

Customizing Lessons
-------------------

If instructors want to present a modified version of a lesson, or add
an entirely new lesson, they will:

1. clone the lesson's repository on GitHub in the usual way;

2. modify their clone;

3. push the changes to their repository on GitHub; and

4. add a link to their workshop's site pointing at that lesson.

Instructors *can* add lesson material to the workshop repository, but
we will encourage them to keep the lessons separate because:

1. It will keep the workshop repository small.

2. It will allow other people to use their lessons by reference (i.e.,
   by linking to them) rather than by value (i.e., by copying the
   material).

Sending Fixes
-------------

The one thing this scheme *doesn't* have is a link between the
workshop's repository and the `workshop_source` repository that
contains the master copy of the workshop site material.  This is
deliberate: as per the current instructions, instructors can't just
clone a website template repository on GitHub because GitHub will only
let a particular user have one clone of a particular repository.

In order to send fixes to the master copy of the website template,
people will therefore have to fork `workshop_source`, make the changes
in their local copy of that, and then issue a pull request.  This does
mean copying changes manually from a workshop website to a local copy
of `workshop_source`, but there doesn't seem to be any easy way around
that.  In practice, we expect changes to the template will be
relatively infrequent, so most instructors won't ever encounter this.
