---
layout: blog
root: ../../..
author: Peter Steinbach
title: "Particle Physicists pulling themselves from the Swamp"
date: 2014-10-24
time: "12:00:00"
category: ["Teaching"]
---
 <!-- start excerpt -->
<p>
   What does it mean to work on a modern particle physics experiment like ATLAS (<a href="http://en.wikipedia.org/wiki/ATLAS_experiment" target="_blank">wikipedia</a>, <a href="atlas.ch" target="_blank">public</a>) or CMS (<a href="http://en.wikipedia.org/wiki/Compact_Muon_Solenoid" target="_blank">wikipedia</a>, <a href="http://cms.web.cern.ch/" target="_blank">public</a>) at the <a href="http://home.web.cern.ch/topics/large-hadron-collider" name="LHC" target="_blank">Large Hadron Collider</a> (<a href="http://home.web.cern.ch/" name="CERN" target="_self">CERN</a>, Switzerland) in the 21st century? It is so much fun, it's collaborating with great and interesting people, it's challenging, it's making you enjoy finding things out, it's what I always wanted to do. Also: it is painful, discouraging and tends to suck the life out of a young mind. Confused? Let's rewind ... <!-- end excerpt --> five years ago I was a young man entering a field that I knew from textbook excerpts and stories of Nobel prices. This field centered around a handful of large laboratories worldwide that host some of the most advanced technology mankind has ever build: particle accelerators. Billions are invested to build a machine that accelerates particles onto a near light speed orbit in order to bring them to a high energetic collision. Around these fixed collision points, multi-purpose experiments of the size of a multi-appartment houses record the particles thus produced to reconstruct what happened during the event and obtain deeper knowledge of the underlying physics i.e. the nature of it.   
</p>

<figure style="text-align: center;">
    <iframe width="560" height="315" src="http://www.youtube.com/embed/a2itywbwLdk" frameborder="0" allowfullscreen></iframe>
    <figcaption>YouTube video produced by the ATLAS collaboration explaining what we do, ATLAS Experiment © 2014 CERN</figcaption>
</figure>
<p>
  If I say multi-appartment houses, you might imagine that analyzing the data of these experiments is far from trivial. The collaborations running these machines provide physicists with object-oriented frameworks (<a href="http://cms-sw.github.io/index.html" name="cmssw" target="_blank">cmssw</a>, <a href="http://proj-gaudi.web.cern.ch/proj-gaudi/" name="gaudi" target="_blank">gaudi</a>, <a href="http://atlas-computing.web.cern.ch/atlas-computing/packages/athenaCore/athenaCore.php" name="athena" target="_blank">athena</a>) of the order of 7-10 kLOC that facilitate the read-out, simulation, filtering and analysis of this data. On top, sophisticated <a href="root.cern.ch" name="root framework" target="_blank">statistics software</a> is used further down the pipeline to produce publication grade plots, make statistical inferences and eventually extract knowledge. Why is it so frustrating then? University curricula for physicists hardly ever contains programming skills, needless to say conceptual knowledge of object-orientism, revision control, software design, parallel computing and alike, neither do prep courses in early stages of a PhD thesis. Most of the time, wiki pages allowing copy-and-paste style learning-by-doing that get you going but never explain underlying principles. But I am a scientist, I need to understand what is going on and use my tools to the best of my knowledge to make inferences. <br><br>
  
  <figure style="text-align: center;">
    <a href="http://www.atlas.ch/photos/higgs-candidate-events.html" target="_blank">
     <img src="http://www.atlas.ch/photos/atlas_photos/selected-photos/full-detector/1101010_11-A4-at-144-dpi.jpg" style="max-width: 50%; max-height: 60%">
    </a>
    <figcaption>ATLAS experiment open detector, ATLAS Experiment © 2014 CERN</figcaption>
</figure>
  
  One and a half year into my thesis, I personally was so frustrated of spending hours in front of the computer understanding other people's code, that I was dedicated to change the situation. Not only for my own personal likings, but also to save peer PhD students the agony I went through. During the same time, a federal German funding agency initiated a German network for particle physics, the Helmholtz Alliance 'Physics at the Terascale', to induce higher scientific throughput just in time with the LHC coming online in 2009. This funding program also contained budgets for training of staff. Motivated by a never-ending and daily struggle to work with object-oriented frameworks that were poorly documented and yet state-of-the-art, I started to inquire about the possibility to organize a workshop on software design principles. It was my hope that through transferring knowledge from the computer science domain to physics students at the keyboard, one could help to pull ourselves out of the swamp and finally understand why we program as we do, how we can work effectively with code (our own and the code of others) and as such be more productive. In the end, I came to be a PhD student to do physics not fighting code! <br><br>
  
  <figure style="text-align: center;">
    <a href="http://en.wikipedia.org/wiki/Baron_M%C3%BCnchhausen" target="_blank">
     <img src="http://upload.wikimedia.org/wikipedia/commons/3/3b/Muenchhausen_Herrfurth_7_500x789.jpg" style="max-width: 40%; max-height: 50%">
    </a>
    <figcaption><a href="http://en.wikipedia.org/wiki/Baron_M%C3%BCnchhausen" name="" target="_self">Lord Muenchhausen</a> pulls himself and his horse from the swamp (German tall tale)</figcaption>
</figure>
  
  Due to the support of my supervisor and the motivation of my fellow students and post-doc, we were able to find potent speakers. The only thing left was getting the money in and advertising the idea to principal investigators (PI) so they'd send their students around. And boy I can tell you, there were many PIs not willing to back us. After all, most of the group leaders made their day during the Fortran age in particle physics. So there was a deep cultural canyon between their view of how people should work and what everyone faced in everyday development.<br><br>
  It took a year to setup the <a href="https://indico.desy.de/conferenceDisplay.py?confId=3155" target="_blank">first workshop</a> in 2010 that welcomed 25 participants. We started by recapping object-orientism, then went on to introduce UML, finally climbed the hill to discuss design patters, spoke about class-design and package-design principles, before the week-long workshop was concluded by a student exercise project that lasted almost an entire day. We also had two keynote speakers from the trenches of the local software industry (what a clash of cultures).<br><br>
  
  Given today's standards, many of the details of the workshop were not very well thought through. It was a lot of content for 4.5 days that was not always paired with exercises or alike. But, hell did we ingest a lot of cool stuff to feed our curiosity. Finally, someone taught us the fundamental concepts we needed so desperately to know in order to grasp what were doing. And as a person, this made my daily life a lot more happier than it was before. And I would even claim, it made me much more productive as a scientist.<br>
  Many participants gave us over-positive feedback:
  <blockquote>
  This workshop should be on everyone's curriculum in Particle Physics. <b>[TODO: more feedback]</b>
  </blockquote>
  <br><br>
Since then, I was lucky enough to organize <a href="http://indico.desy.de/conferenceDisplay.py?confId=4542" target="_blank">another workshop</a> one year later. We again had 25 participants with a keynote by a local software consultancy CEO. Further, I was myself able to deliver the knowledge that I had acquired through the past workshop and gave a talk on my own on test-driven development. The following year, the workshop started to travel and was hosted by <a href="http://indico.desy.de/conferenceDisplay.py?confId=6093" target="_blank">DESY</a> in Hamburg. There, we had 50 participants which was a challenge. We used to have a small number of people, with which covering a lot of material can be managed by dynamic adaption of speed and depth of covering it. But that approach does not scale! So at the end of a tough week, we again received a lot of positive feedback, but we had to admit that 30-35 people is a good size to go with.<br><br>

During that time, the focus of the workshop changed a bit. We were still covering object-orientism, good design practices as well as design patterns. We also added refactoring by means of a new excellent contributor to that list because it copes much more with the day-to-day situation students face: sit down and use the code of others. Also, the number of exercises steadily increased and I believe we are slowly converging to a 1:1 ratio of exercises to lectures (I am not saying this is optimal). Also, the scope of the audience became more wide. We had to acknowledge that most particle or nuclear physics related sciences also have substantial need for software training. For detector construction, both the nuclear and particle physics community commonly use GEANT which is again a object-oriented framework to setup and run detector simulations in a modular fashion. Participants from these fields repeatedly told us that the sort of training we offer is needed.<br><br>

This year, the workshop was hosted at <a href="https://indico.desy.de/conferenceDisplay.py?confId=9932" target="_blank">Munich</a>. Triggered by Greg's PyCon talk, I tried to use some more interactive teaching elements like sticky notes, an etherpad and live-coding mixed with a lot of pair work (not pair programming yet). I have to say that especially people in this environment, where they feel they lack competence and because they are physicists ;) are a difficult crowd. Sticky notes were not adapted at all or I didn't "motivate" them too much. I dropped using them half-way through the session. Having the etherpad was great success. It allowed me to bring the teaching into the notebook, that everyone likes to hide behind. Live coding worked out extremely well. I used it to teach C++ template meta programming within one entire morning. The topic is quite complicated. Live coding helped me adapt the speed and ensure that everyone can follow and reproduce my demonstration on their own. There was constant feedback by the participants and people helped each other out. To be honest, I was surprised that live coding worked so well with a crown of 33 students, but it did. Last, I put all my code and slides on github for the students to share and fork. I have to say that this did not receive the attention by the participants I hope it would. But that might have technical or usability reasons. <br><br>

To conclude, I think we are on a good way to establishing a software development focused training curriculum in the particle physics community. Promoted by this blog post, we will start to publish our experiences if possible at conferences and peer-reviewed journals in order to receive feedback, straighten our quality assurance and to bring our experiences and motivation to the attention of more people. Maybe at some point, our courses can be adapted in other countries or even in the big laboratories. That would be a dream coming true my fellow teachers and myself. On the whole, the workshop might have lead to a mind change of PIs:<br><br>
<blockquote>
  <b>TODO: Quote by PI from Aachen about the school.</b>
  </blockquote>
 <br><br>
 
Last, I would like to thank the individuals that have made the workshop a success over the last years. The core team that back the workshop and are ready to present annually are: Thomas Schörner-Sadenius (DESY Hamburg), Maria Pia Grazia (INFN Genova, Italy), Stefan Kluth (MPI for Physics, Munich) and myself. Apart from these, I'd like to mentioned past contributors: Thomas Velz (University of Bonn, now industry). Thomas was a  participant once in the workshop and this year contributed as a teacher! Benedikt Hegner (CERN, SUI) and Eckhardt von Toerne (University of Bonn) both made substantial contributions in the past and are good teachers. Also, my gratitude goes towards my supervisor at TU Dresden, Michael Kobel, and my colleaques there (most of all Wolfgang Mader) that supported me to organize the workshops locally and motivated me throughout.

</p>

